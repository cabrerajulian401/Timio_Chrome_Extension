(()=>{var e,t,n={8792:e=>{function t(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._metadata={},this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(e){return e.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._allowedVideoRegex=t.allowedVideoRegex||this.REGEXPS.videos,this._linkDensityModifier=t.linkDensityModifier||0,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let e=function(e){if(e.nodeType==e.TEXT_NODE)return`${e.nodeName} ("${e.textContent}")`;let t=Array.from(e.attributes||[],(function(e){return`${e.name}="${e.value}"`})).join(" ");return`<${e.localName} ${t}>`};this.log=function(){if("undefined"!=typeof console){let t=Array.from(arguments,(t=>t&&t.nodeType==this.ELEMENT_NODE?e(t):t));t.unshift("Reader: (Readability)"),console.log(...t)}else if("undefined"!=typeof dump){var t=Array.prototype.map.call(arguments,(function(t){return t&&t.nodeName?e(t):t})).join(" ");dump("Reader: (Readability) "+t+"\n")}}}else this.log=function(){}}t.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|mathjax|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq|bilibili|live.bilibili)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,adWords:/^(ad(vertising|vertisement)?|pub(licité)?|werb(ung)?|广告|Реклама|Anuncio)$/iu,loadingWords:/^((loading|正在加载|Загрузка|chargement|cargando)(…|\.\.\.)?)$/iu},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P","OL","UL"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var n=e.length-1;n>=0;n--){var i=e[n],o=i.parentNode;o&&(t&&!t.call(this,i,n,e)||o.removeChild(i))}},_replaceNodeTags(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const n of e)this._setNodeTag(n,t)},_forEachNode(e,t){Array.prototype.forEach.call(e,t,this)},_findNode(e,t){return Array.prototype.find.call(e,t,this)},_someNode(e,t){return Array.prototype.some.call(e,t,this)},_everyNode(e,t){return Array.prototype.every.call(e,t,this)},_getAllNodesWithTag:(e,t)=>e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map((function(t){var n=e.getElementsByTagName(t);return Array.isArray(n)?n:Array.from(n)}))),_cleanClasses(e){var t=this._classesToPreserve,n=(e.getAttribute("class")||"").split(/\s+/).filter((e=>t.includes(e))).join(" ");for(n?e.setAttribute("class",n):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_isUrl(e){try{return new URL(e),!0}catch{return!1}},_fixRelativeUris(e){var t=this._doc.baseURI,n=this._doc.documentURI;function i(e){if(t==n&&"#"==e.charAt(0))return e;try{return new URL(e,t).href}catch(e){}return e}var o=this._getAllNodesWithTag(e,["a"]);this._forEachNode(o,(function(e){var t=e.getAttribute("href");if(t)if(0===t.indexOf("javascript:"))if(1===e.childNodes.length&&e.childNodes[0].nodeType===this.TEXT_NODE){var n=this._doc.createTextNode(e.textContent);e.parentNode.replaceChild(n,e)}else{for(var o=this._doc.createElement("span");e.firstChild;)o.appendChild(e.firstChild);e.parentNode.replaceChild(o,e)}else e.setAttribute("href",i(t))}));var r=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(r,(function(e){var t=e.getAttribute("src"),n=e.getAttribute("poster"),o=e.getAttribute("srcset");if(t&&e.setAttribute("src",i(t)),n&&e.setAttribute("poster",i(n)),o){var r=o.replace(this.REGEXPS.srcsetUrl,(function(e,t,n,o){return i(t)+(n||"")+o}));e.setAttribute("srcset",r)}}))},_simplifyNestedElements(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&(!t.id||!t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var n=t.children[0],i=0;i<t.attributes.length;i++)n.setAttributeNode(t.attributes[i].cloneNode());t.parentNode.replaceChild(n,t),t=n;continue}}t=this._getNextNode(t)}},_getArticleTitle(){var e=this._doc,t="",n="";try{"string"!=typeof(t=n=e.title.trim())&&(t=n=this._getInnerText(e.getElementsByTagName("title")[0]))}catch(e){}var i=!1;function o(e){return e.split(/\s+/).length}const r=/\|\-–—\\\/>»/.source;if(new RegExp(`\\s[${r}]\\s`).test(t)){i=/\s[\\\/>»]\s/.test(t);let e=Array.from(n.matchAll(new RegExp(`\\s[${r}]\\s`,"gi")));o(t=n.substring(0,e.pop().index))<3&&(t=n.replace(new RegExp(`^[^${r}]*[${r}]`,"gi"),""))}else if(t.includes(": ")){var a=this._getAllNodesWithTag(e,["h1","h2"]),s=t.trim();this._someNode(a,(function(e){return e.textContent.trim()===s}))||(o(t=n.substring(n.lastIndexOf(":")+1))<3?t=n.substring(n.indexOf(":")+1):o(n.substr(0,n.indexOf(":")))>5&&(t=n))}else if(t.length>150||t.length<15){var l=e.getElementsByTagName("h1");1===l.length&&(t=this._getInnerText(l[0]))}var c=o(t=t.trim().replace(this.REGEXPS.normalize," "));return c<=4&&(!i||c!=o(n.replace(new RegExp(`\\s[${r}]\\s`,"g"),""))-1)&&(t=n),t},_prepDocument(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),(function(e){for(var t=e.nextSibling,n=!1;(t=this._nextNode(t))&&"BR"==t.tagName;){n=!0;var i=t.nextSibling;t.remove(),t=i}if(n){var o=this._doc.createElement("p");for(e.parentNode.replaceChild(o,e),t=o.nextSibling;t;){if("BR"==t.tagName){var r=this._nextNode(t.nextSibling);if(r&&"BR"==r.tagName)break}if(!this._isPhrasingContent(t))break;var a=t.nextSibling;o.appendChild(t),t=a}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.lastChild.remove();"P"===o.parentNode.tagName&&this._setNodeTag(o.parentNode,"DIV")}}))},_setNodeTag(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var n=e.ownerDocument.createElement(t);e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e),e.readability&&(n.readability=e.readability);for(var i=0;i<e.attributes.length;i++)n.setAttributeNode(e.attributes[i].cloneNode());return n},_prepArticle(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,(function(e){this._cleanMatchedNodes(e,(function(e,n){return this.REGEXPS.shareElements.test(n)&&e.textContent.length<t}))})),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),(function(e){return 0===this._getAllNodesWithTag(e,["img","embed","object","iframe"]).length&&!this._getInnerText(e,!1)})),this._forEachNode(this._getAllNodesWithTag(e,["br"]),(function(e){var t=this._nextNode(e.nextSibling);t&&"P"==t.tagName&&e.remove()})),this._forEachNode(this._getAllNodesWithTag(e,["table"]),(function(e){var t=this._hasSingleTagInsideElement(e,"TBODY")?e.firstElementChild:e;if(this._hasSingleTagInsideElement(t,"TR")){var n=t.firstElementChild;if(this._hasSingleTagInsideElement(n,"TD")){var i=n.firstElementChild;i=this._setNodeTag(i,this._everyNode(i.childNodes,this._isPhrasingContent)?"P":"DIV"),e.parentNode.replaceChild(i,e)}}}))},_initializeNode(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext(e){var t=this._getNextNode(e,!0);return e.remove(),t},_getNextNode(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do{e=e.parentNode}while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity(e,t){var n=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),i=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);return n.length&&i.length?1-i.filter((e=>!n.includes(e))).join(" ").length/i.join(" ").length:0},_isValidByline(e,t){var n=e.getAttribute("rel"),i=e.getAttribute("itemprop"),o=e.textContent.trim().length;return("author"===n||i&&i.includes("author")||this.REGEXPS.byline.test(t))&&!!o&&o<100},_getNodeAncestors(e,t){t=t||0;for(var n=0,i=[];e.parentNode&&(i.push(e.parentNode),!t||++n!==t);)e=e.parentNode;return i},_grabArticle(e){this.log("**** grabArticle ****");var t=this._doc,n=null!==e;if(!(e=e||this._doc.body))return this.log("No body found in document. Abort."),null;for(var i=e.innerHTML;;){this.log("Starting grabArticle loop");var o=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),r=[],a=this._doc.documentElement;let Y=!0;for(;a;){"HTML"===a.tagName&&(this._articleLang=a.getAttribute("lang"));var s=a.className+" "+a.id;if(this._isProbablyVisible(a))if("true"!=a.getAttribute("aria-modal")||"dialog"!=a.getAttribute("role"))if(this._articleByline||this._metadata.byline||!this._isValidByline(a,s))if(Y&&this._headerDuplicatesTitle(a))this.log("Removing header: ",a.textContent.trim(),this._articleTitle.trim()),Y=!1,a=this._removeAndGetNext(a);else{if(o){if(this.REGEXPS.unlikelyCandidates.test(s)&&!this.REGEXPS.okMaybeItsACandidate.test(s)&&!this._hasAncestorTag(a,"table")&&!this._hasAncestorTag(a,"code")&&"BODY"!==a.tagName&&"A"!==a.tagName){this.log("Removing unlikely candidate - "+s),a=this._removeAndGetNext(a);continue}if(this.UNLIKELY_ROLES.includes(a.getAttribute("role"))){this.log("Removing content with role "+a.getAttribute("role")+" - "+s),a=this._removeAndGetNext(a);continue}}if("DIV"!==a.tagName&&"SECTION"!==a.tagName&&"HEADER"!==a.tagName&&"H1"!==a.tagName&&"H2"!==a.tagName&&"H3"!==a.tagName&&"H4"!==a.tagName&&"H5"!==a.tagName&&"H6"!==a.tagName||!this._isElementWithoutContent(a)){if(this.DEFAULT_TAGS_TO_SCORE.includes(a.tagName)&&r.push(a),"DIV"===a.tagName){for(var l=null,c=a.firstChild;c;){var d=c.nextSibling;if(this._isPhrasingContent(c))null!==l?l.appendChild(c):this._isWhitespace(c)||(l=t.createElement("p"),a.replaceChild(l,c),l.appendChild(c));else if(null!==l){for(;l.lastChild&&this._isWhitespace(l.lastChild);)l.lastChild.remove();l=null}c=d}if(this._hasSingleTagInsideElement(a,"P")&&this._getLinkDensity(a)<.25){var m=a.children[0];a.parentNode.replaceChild(m,a),a=m,r.push(a)}else this._hasChildBlockElement(a)||(a=this._setNodeTag(a,"P"),r.push(a))}a=this._getNextNode(a)}else a=this._removeAndGetNext(a)}else{for(var h=this._getNextNode(a,!0),u=this._getNextNode(a),p=null;u&&u!=h;){var g=u.getAttribute("itemprop");if(g&&g.includes("name")){p=u;break}u=this._getNextNode(u)}this._articleByline=(p??a).textContent.trim(),a=this._removeAndGetNext(a)}else a=this._removeAndGetNext(a);else this.log("Removing hidden node - "+s),a=this._removeAndGetNext(a)}var f=[];this._forEachNode(r,(function(e){if(e.parentNode&&void 0!==e.parentNode.tagName){var t=this._getInnerText(e);if(!(t.length<25)){var n=this._getNodeAncestors(e,5);if(0!==n.length){var i=0;i+=1,i+=t.split(this.REGEXPS.commas).length,i+=Math.min(Math.floor(t.length/100),3),this._forEachNode(n,(function(e,t){if(e.tagName&&e.parentNode&&void 0!==e.parentNode.tagName){if(void 0===e.readability&&(this._initializeNode(e),f.push(e)),0===t)var n=1;else n=1===t?2:3*t;e.readability.contentScore+=i/n}}))}}}}));for(var b=[],v=0,y=f.length;v<y;v+=1){var _=f[v],x=_.readability.contentScore*(1-this._getLinkDensity(_));_.readability.contentScore=x,this.log("Candidate:",_,"with score "+x);for(var E=0;E<this._nbTopCandidates;E++){var N=b[E];if(!N||x>N.readability.contentScore){b.splice(E,0,_),b.length>this._nbTopCandidates&&b.pop();break}}}var T,w=b[0]||null,A=!1;if(null===w||"BODY"===w.tagName){for(w=t.createElement("DIV"),A=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),w.appendChild(e.firstChild);e.appendChild(w),this._initializeNode(w)}else if(w){for(var S=[],L=1;L<b.length;L++)b[L].readability.contentScore/w.readability.contentScore>=.75&&S.push(this._getNodeAncestors(b[L]));if(S.length>=3)for(T=w.parentNode;"BODY"!==T.tagName;){for(var C=0,k=0;k<S.length&&C<3;k++)C+=Number(S[k].includes(T));if(C>=3){w=T;break}T=T.parentNode}w.readability||this._initializeNode(w),T=w.parentNode;for(var I=w.readability.contentScore,D=I/3;"BODY"!==T.tagName;)if(T.readability){var R=T.readability.contentScore;if(R<D)break;if(R>I){w=T;break}I=T.readability.contentScore,T=T.parentNode}else T=T.parentNode;for(T=w.parentNode;"BODY"!=T.tagName&&1==T.children.length;)T=(w=T).parentNode;w.readability||this._initializeNode(w)}var P=t.createElement("DIV");n&&(P.id="readability-content");for(var M=Math.max(10,.2*w.readability.contentScore),O=(T=w.parentNode).children,B=0,H=O.length;B<H;B++){var U=O[B],j=!1;if(this.log("Looking at sibling node:",U,U.readability?"with score "+U.readability.contentScore:""),this.log("Sibling has score",U.readability?U.readability.contentScore:"Unknown"),U===w)j=!0;else{var $=0;if(U.className===w.className&&""!==w.className&&($+=.2*w.readability.contentScore),U.readability&&U.readability.contentScore+$>=M)j=!0;else if("P"===U.nodeName){var G=this._getLinkDensity(U),z=this._getInnerText(U),F=z.length;(F>80&&G<.25||F<80&&F>0&&0===G&&-1!==z.search(/\.( |$)/))&&(j=!0)}}j&&(this.log("Appending node:",U),this.ALTER_TO_DIV_EXCEPTIONS.includes(U.nodeName)||(this.log("Altering sibling:",U,"to div."),U=this._setNodeTag(U,"DIV")),P.appendChild(U),O=T.children,B-=1,H-=1)}if(this._debug&&this.log("Article content pre-prep: "+P.innerHTML),this._prepArticle(P),this._debug&&this.log("Article content post-prep: "+P.innerHTML),A)w.id="readability-page-1",w.className="page";else{var q=t.createElement("DIV");for(q.id="readability-page-1",q.className="page";P.firstChild;)q.appendChild(P.firstChild);P.appendChild(q)}this._debug&&this.log("Article content after paging: "+P.innerHTML);var W=!0,X=this._getInnerText(P,!0).length;if(X<this._charThreshold)if(W=!1,e.innerHTML=i,this._attempts.push({articleContent:P,textLength:X}),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);else{if(this._attempts.sort((function(e,t){return t.textLength-e.textLength})),!this._attempts[0].textLength)return null;P=this._attempts[0].articleContent,W=!0}if(W){var V=[T,w].concat(this._getNodeAncestors(T));return this._someNode(V,(function(e){if(!e.tagName)return!1;var t=e.getAttribute("dir");return!!t&&(this._articleDir=t,!0)})),P}}},_unescapeHtmlEntities(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,(function(e,n){return t[n]})).replace(/&#(?:x([0-9a-f]+)|([0-9]+));/gi,(function(e,t,n){var i=parseInt(t||n,t?16:10);return(0==i||i>1114111||i>=55296&&i<=57343)&&(i=65533),String.fromCodePoint(i)}))},_getJSONLD(e){var t,n=this._getAllNodesWithTag(e,["script"]);return this._forEachNode(n,(function(e){if(!t&&"application/ld+json"===e.getAttribute("type"))try{var n=e.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),i=JSON.parse(n);if(Array.isArray(i)&&!(i=i.find((e=>e["@type"]&&e["@type"].match(this.REGEXPS.jsonLdArticleTypes)))))return;var o=/^https?\:\/\/schema\.org\/?$/;if(!("string"==typeof i["@context"]&&i["@context"].match(o)||"object"==typeof i["@context"]&&"string"==typeof i["@context"]["@vocab"]&&i["@context"]["@vocab"].match(o)))return;if(!i["@type"]&&Array.isArray(i["@graph"])&&(i=i["@graph"].find((e=>(e["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)))),!i||!i["@type"]||!i["@type"].match(this.REGEXPS.jsonLdArticleTypes))return;if(t={},"string"==typeof i.name&&"string"==typeof i.headline&&i.name!==i.headline){var r=this._getArticleTitle(),a=this._textSimilarity(i.name,r)>.75,s=this._textSimilarity(i.headline,r)>.75;t.title=s&&!a?i.headline:i.name}else"string"==typeof i.name?t.title=i.name.trim():"string"==typeof i.headline&&(t.title=i.headline.trim());i.author&&("string"==typeof i.author.name?t.byline=i.author.name.trim():Array.isArray(i.author)&&i.author[0]&&"string"==typeof i.author[0].name&&(t.byline=i.author.filter((function(e){return e&&"string"==typeof e.name})).map((function(e){return e.name.trim()})).join(", "))),"string"==typeof i.description&&(t.excerpt=i.description.trim()),i.publisher&&"string"==typeof i.publisher.name&&(t.siteName=i.publisher.name.trim()),"string"==typeof i.datePublished&&(t.datePublished=i.datePublished.trim())}catch(e){this.log(e.message)}})),t||{}},_getArticleMetadata(e){var t={},n={},i=this._doc.getElementsByTagName("meta"),o=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,r=/^\s*(?:(dc|dcterm|og|twitter|parsely|weibo:(article|webpage))\s*[-\.:]\s*)?(author|creator|pub-date|description|title|site_name)\s*$/i;this._forEachNode(i,(function(e){var t=e.getAttribute("name"),i=e.getAttribute("property"),a=e.getAttribute("content");if(a){var s=null,l=null;i&&(s=i.match(o))&&(l=s[0].toLowerCase().replace(/\s/g,""),n[l]=a.trim()),!s&&t&&r.test(t)&&(l=t,a&&(l=l.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),n[l]=a.trim()))}})),t.title=e.title||n["dc:title"]||n["dcterm:title"]||n["og:title"]||n["weibo:article:title"]||n["weibo:webpage:title"]||n.title||n["twitter:title"]||n["parsely-title"],t.title||(t.title=this._getArticleTitle());const a="string"!=typeof n["article:author"]||this._isUrl(n["article:author"])?void 0:n["article:author"];return t.byline=e.byline||n["dc:creator"]||n["dcterm:creator"]||n.author||n["parsely-author"]||a,t.excerpt=e.excerpt||n["dc:description"]||n["dcterm:description"]||n["og:description"]||n["weibo:article:description"]||n["weibo:webpage:description"]||n.description||n["twitter:description"],t.siteName=e.siteName||n["og:site_name"],t.publishedTime=e.datePublished||n["article:published_time"]||n["parsely-pub-date"]||null,t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t.publishedTime=this._unescapeHtmlEntities(t.publishedTime),t},_isSingleImage(e){for(;e;){if("IMG"===e.tagName)return!0;if(1!==e.children.length||""!==e.textContent.trim())return!1;e=e.children[0]}return!1},_unwrapNoscriptImages(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,(function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t];switch(n.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(n.value))return}e.remove()}));var n=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(n,(function(t){if(this._isSingleImage(t)){var n=e.createElement("div");n.innerHTML=t.innerHTML;var i=t.previousElementSibling;if(i&&this._isSingleImage(i)){var o=i;"IMG"!==o.tagName&&(o=i.getElementsByTagName("img")[0]);for(var r=n.getElementsByTagName("img")[0],a=0;a<o.attributes.length;a++){var s=o.attributes[a];if(""!==s.value&&("src"===s.name||"srcset"===s.name||/\.(jpg|jpeg|png|webp)/i.test(s.value))){if(r.getAttribute(s.name)===s.value)continue;var l=s.name;r.hasAttribute(l)&&(l="data-old-"+l),r.setAttribute(l,s.value)}}t.parentNode.replaceChild(n.firstElementChild,i)}}}))},_removeScripts(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement(e,t){return 1==e.children.length&&e.children[0].tagName===t&&!this._someNode(e.childNodes,(function(e){return e.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(e.textContent)}))},_isElementWithoutContent(e){return!(e.nodeType!==this.ELEMENT_NODE||e.textContent.trim().length||e.children.length&&e.children.length!=e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement(e){return this._someNode(e.childNodes,(function(e){return this.DIV_TO_P_ELEMS.has(e.tagName)||this._hasChildBlockElement(e)}))},_isPhrasingContent(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.includes(e.tagName)||("A"===e.tagName||"DEL"===e.tagName||"INS"===e.tagName)&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace(e){return e.nodeType===this.TEXT_NODE&&0===e.textContent.trim().length||e.nodeType===this.ELEMENT_NODE&&"BR"===e.tagName},_getInnerText(e,t){t=void 0===t||t;var n=e.textContent.trim();return t?n.replace(this.REGEXPS.normalize," "):n},_getCharCount(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles(e){if(e&&"svg"!==e.tagName.toLowerCase()){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.includes(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var n=e.firstElementChild;null!==n;)this._cleanStyles(n),n=n.nextElementSibling}},_getLinkDensity(e){var t=this._getInnerText(e).length;if(0===t)return 0;var n=0;return this._forEachNode(e.getElementsByTagName("a"),(function(e){var t=e.getAttribute("href"),i=t&&this.REGEXPS.hashUrl.test(t)?.3:1;n+=this._getInnerText(e).length*i})),n/t},_getClassWeight(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return"string"==typeof e.className&&""!==e.className&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean(e,t){var n=["object","embed","iframe"].includes(t);this._removeNodes(this._getAllNodesWithTag(e,[t]),(function(e){if(n){for(var t=0;t<e.attributes.length;t++)if(this._allowedVideoRegex.test(e.attributes[t].value))return!1;if("object"===e.tagName&&this._allowedVideoRegex.test(e.innerHTML))return!1}return!0}))},_hasAncestorTag(e,t,n,i){n=n||3,t=t.toUpperCase();for(var o=0;e.parentNode;){if(n>0&&o>n)return!1;if(e.parentNode.tagName===t&&(!i||i(e.parentNode)))return!0;e=e.parentNode,o++}return!1},_getRowAndColumnCount(e){for(var t=0,n=0,i=e.getElementsByTagName("tr"),o=0;o<i.length;o++){var r=i[o].getAttribute("rowspan")||0;r&&(r=parseInt(r,10)),t+=r||1;for(var a=0,s=i[o].getElementsByTagName("td"),l=0;l<s.length;l++){var c=s[l].getAttribute("colspan")||0;c&&(c=parseInt(c,10)),a+=c||1}n=Math.max(n,a)}return{rows:t,columns:n}},_markDataTables(e){for(var t=e.getElementsByTagName("table"),n=0;n<t.length;n++){var i=t[n];if("presentation"!=i.getAttribute("role"))if("0"!=i.getAttribute("datatable"))if(i.getAttribute("summary"))i._readabilityDataTable=!0;else{var o=i.getElementsByTagName("caption")[0];if(o&&o.childNodes.length)i._readabilityDataTable=!0;else{if(["col","colgroup","tfoot","thead","th"].some((function(e){return!!i.getElementsByTagName(e)[0]})))this.log("Data table because found data-y descendant"),i._readabilityDataTable=!0;else if(i.getElementsByTagName("table")[0])i._readabilityDataTable=!1;else{var r=this._getRowAndColumnCount(i);1!=r.columns&&1!=r.rows?r.rows>=10||r.columns>4?i._readabilityDataTable=!0:i._readabilityDataTable=r.rows*r.columns>10:i._readabilityDataTable=!1}}}else i._readabilityDataTable=!1;else i._readabilityDataTable=!1}},_fixLazyImages(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),(function(e){if(e.src&&this.REGEXPS.b64DataUrl.test(e.src)){var t=this.REGEXPS.b64DataUrl.exec(e.src);if("image/svg+xml"===t[1])return;for(var n=!1,i=0;i<e.attributes.length;i++){var o=e.attributes[i];if("src"!==o.name&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){n=!0;break}}if(n){var r=t[0].length;e.src.length-r<133&&e.removeAttribute("src")}}if(!(e.src||e.srcset&&"null"!=e.srcset)||e.className.toLowerCase().includes("lazy"))for(var a=0;a<e.attributes.length;a++)if("src"!==(o=e.attributes[a]).name&&"srcset"!==o.name&&"alt"!==o.name){var s=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?s="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(s="src"),s)if("IMG"===e.tagName||"PICTURE"===e.tagName)e.setAttribute(s,o.value);else if("FIGURE"===e.tagName&&!this._getAllNodesWithTag(e,["img","picture"]).length){var l=this._doc.createElement("img");l.setAttribute(s,o.value),e.appendChild(l)}}}))},_getTextDensity(e,t){var n=this._getInnerText(e,!0).length;if(0===n)return 0;var i=0,o=this._getAllNodesWithTag(e,t);return this._forEachNode(o,(e=>i+=this._getInnerText(e,!0).length)),i/n},_cleanConditionally(e,t){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[t]),(function(e){var n=function(e){return e._readabilityDataTable},i="ul"===t||"ol"===t;if(!i){var o=0,r=this._getAllNodesWithTag(e,["ul","ol"]);this._forEachNode(r,(e=>o+=this._getInnerText(e).length)),i=o/this._getInnerText(e).length>.9}if("table"===t&&n(e))return!1;if(this._hasAncestorTag(e,"table",-1,n))return!1;if(this._hasAncestorTag(e,"code"))return!1;if([...e.getElementsByTagName("table")].some((e=>e._readabilityDataTable)))return!1;var a=this._getClassWeight(e);this.log("Cleaning Conditionally",e);if(a+0<0)return!0;if(this._getCharCount(e,",")<10){for(var s=e.getElementsByTagName("p").length,l=e.getElementsByTagName("img").length,c=e.getElementsByTagName("li").length-100,d=e.getElementsByTagName("input").length,m=this._getTextDensity(e,["h1","h2","h3","h4","h5","h6"]),h=0,u=this._getAllNodesWithTag(e,["object","embed","iframe"]),p=0;p<u.length;p++){for(var g=0;g<u[p].attributes.length;g++)if(this._allowedVideoRegex.test(u[p].attributes[g].value))return!1;if("object"===u[p].tagName&&this._allowedVideoRegex.test(u[p].innerHTML))return!1;h++}var f=this._getInnerText(e);if(this.REGEXPS.adWords.test(f)||this.REGEXPS.loadingWords.test(f))return!0;var b=f.length,v=this._getLinkDensity(e),y=["SPAN","LI","TD"].concat(Array.from(this.DIV_TO_P_ELEMS)),_=this._getTextDensity(e,y),x=this._hasAncestorTag(e,"figure");var E=(()=>{const e=[];return!x&&l>1&&s/l<.5&&e.push(`Bad p to img ratio (img=${l}, p=${s})`),!i&&c>s&&e.push(`Too many li's outside of a list. (li=${c} > p=${s})`),d>Math.floor(s/3)&&e.push(`Too many inputs per p. (input=${d}, p=${s})`),!i&&!x&&m<.9&&b<25&&(0===l||l>2)&&v>0&&e.push(`Suspiciously short. (headingDensity=${m}, img=${l}, linkDensity=${v})`),!i&&a<25&&v>.2+this._linkDensityModifier&&e.push(`Low weight and a little linky. (linkDensity=${v})`),a>=25&&v>.5+this._linkDensityModifier&&e.push(`High weight and mostly links. (linkDensity=${v})`),(1===h&&b<75||h>1)&&e.push(`Suspicious embed. (embedCount=${h}, contentLength=${b})`),0===l&&0===_&&e.push(`No useful content. (img=${l}, textDensity=${_})`),!!e.length&&(this.log("Checks failed",e),!0)})();if(i&&E){for(var N=0;N<e.children.length;N++){if(e.children[N].children.length>1)return E}let t=e.getElementsByTagName("li").length;if(l==t)return!1}return E}return!1}))},_cleanMatchedNodes(e,t){for(var n=this._getNextNode(e,!0),i=this._getNextNode(e);i&&i!=n;)i=t.call(this,i,i.className+" "+i.id)?this._removeAndGetNext(i):this._getNextNode(i)},_cleanHeaders(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,(function(e){let t=this._getClassWeight(e)<0;return t&&this.log("Removing header with low class weight:",e),t}))},_headerDuplicatesTitle(e){if("H1"!=e.tagName&&"H2"!=e.tagName)return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive(e){return(this._flags&e)>0},_removeFlag(e){this._flags=this._flags&~e},_isProbablyVisible:e=>(!e.style||"none"!=e.style.display)&&(!e.style||"hidden"!=e.style.visibility)&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||"true"!=e.getAttribute("aria-hidden")||e.className&&e.className.includes&&e.className.includes("fallback-image")),parse(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var n=this._getArticleMetadata(t);this._metadata=n,this._articleTitle=n.title;var i=this._grabArticle();if(!i)return null;if(this.log("Grabbed: "+i.innerHTML),this._postProcessContent(i),!n.excerpt){var o=i.getElementsByTagName("p");o.length&&(n.excerpt=o[0].textContent.trim())}var r=i.textContent;return{title:this._articleTitle,byline:n.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(i),textContent:r,length:r.length,excerpt:n.excerpt,siteName:n.siteName||this._articleSiteName,publishedTime:n.publishedTime}}},e.exports=t},802:(e,t,n)=>{"use strict";var i=n(8792),o=n.n(i);console.log("Hello, world!"),console.log("Content script loaded"),(()=>{function e(){const e=window.location.hostname.toLowerCase(),t=["youtube.com","netflix.com","hulu.com","vimeo.com","twitch.tv","primevideo.com","disneyplus.com","hbomax.com","peacocktv.com","paramountplus.com","discoveryplus.com","dailymotion.com","facebook.com","twitter.com","instagram.com","tiktok.com","pinterest.com","reddit.com","linkedin.com","snapchat.com","whatsapp.com","telegram.org","discord.com","tumblr.com","gmail.com","outlook.com","mail.yahoo.com","protonmail.com","zoho.com","drive.google.com","docs.google.com","sheets.google.com","slides.google.com","office.com","notion.so","trello.com","asana.com","monday.com","github.com","gitlab.com","bitbucket.org","stackoverflow.com","replit.com","codepen.io","codesandbox.io","jsfiddle.net","amazon.com","ebay.com","walmart.com","target.com","etsy.com","bestbuy.com","aliexpress.com","wikipedia.org","quora.com","maps.google.com","meet.google.com","zoom.us","calendar.google.com"];for(const n of t)if(e===n||e.endsWith("."+n))return console.log(`TIMIO: Excluded site detected: ${e}`),!1;return!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)||(console.log("TIMIO: Fullscreen mode detected, not injecting"),!1)}function t(){const t=document.getElementById("timio-floating-menu"),n=document.getElementById("timio-modal");document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(t&&(t.style.display="none"),n&&n.classList.remove("active")):e()&&t&&(t.style.display="block")}document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t);let n=null;function i(){console.log("Starting port creation process");try{if(n){console.log("Existing port found, attempting cleanup");try{n.disconnect(),console.log("Existing port disconnected successfully")}catch(e){console.warn("Port cleanup error:",e)}}console.log("Creating new port connection");const e=chrome.runtime.connect({name:"timio-extension"});return console.log("New port created successfully:",e),e.onDisconnect.addListener((()=>{const e=chrome.runtime.lastError;console.log("Port disconnected. Error:",e),e&&"Extension context invalidated."===e.message?(console.log("Extension context invalidated, showing reload message"),a()):(console.log("Attempting to reconnect port in 1 second"),setTimeout((()=>{n=i()}),1e3))})),e.onMessage.addListener((e=>{console.log("Port received message:",e)})),e}catch(e){return console.error("Port creation failed:",{error:e,stack:e.stack,lastError:chrome.runtime.lastError}),e.message.includes("Extension context invalidated")&&(console.log("Extension context invalidated during port creation"),a()),null}}function r(){const e=document.getElementById("timio-floating-menu");e&&(e.style.zIndex="2147483647",e.style.visibility="visible",e.style.opacity="1",e.style.display="block")}function a(){const e=document.getElementById("timio-modal");if(!e)return;const t=e.querySelector(".timio-spinner"),n=e.querySelector(".timio-insights-content"),i=e.querySelector(".timio-pivot-content");t&&(t.style.display="none");const o=n||i;o&&(o.style.display="block",o.innerHTML='\n                <div class="timio-error-message">\n                    <svg class="timio-error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                        <circle cx="12" cy="12" r="10"></circle>\n                        <line x1="12" y1="8" x2="12" y2="12"></line>\n                        <line x1="12" y1="16" x2="12.01" y2="16"></line>\n                    </svg>\n                    <p class="timio-error-title">Extension Updated</p>\n                    <p class="timio-error-text">Please refresh the page to continue using the extension.</p>\n                    <button class="timio-refresh-button" onclick="window.location.reload()">\n                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                            <path d="M21 12a9 9 0 11-9-9c2.52 0 4.85.99 6.57 2.57L21 8"></path>\n                            <path d="M21 3v5h-5"></path>\n                        </svg>\n                        Refresh Page\n                    </button>\n                </div>\n            ')}function s(e){if(console.log("Received articles:",e),!e||0===e.length)return'\n                <div class="timio-error-message">\n                    <svg class="timio-error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>\n                    </svg>\n                    <p class="timio-error-title">No Results Found</p>\n                    <p class="timio-error-text">Unable to find related articles. Please try a different article.</p>\n                </div>\n            ';return`\n            <div class="timio-pivot-container">\n                ${e.map(((e,t)=>{if(console.log(`Processing article ${t+1}:`,e),console.log("Article data:",e),!e.url)return console.warn("Article missing URL:",e),"";const n=e.source?.domain||(e=>{try{return new URL(e).hostname.replace("www.","")}catch(e){return console.warn("Error parsing URL:",e),"Unknown source"}})(e.url),i=(e=>{if(!e)return"Recent";try{const t=new Date(e);return isNaN(t.getTime())?"Recent":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(e){return console.warn("Error formatting date:",e),"Recent"}})(e.pubDate),o=`https://api.microlink.io/?url=${encodeURIComponent(e.url)}&meta=false&embed=image.url`,r=e.imageUrl||o,a=e.title||"Untitled",s=e.authorsByline?e.authorsByline.split(",")[0]:"";return`\n                <a href="${e.url}" \n                   class="timio-pivot-article" \n                   target="_blank" \n                   rel="noopener noreferrer">\n                    <div class="timio-pivot-image">\n                        <div class="timio-image-placeholder"></div>\n                        <img src="${r}" \n                             alt="${a}"\n                             onerror="this.style.display='none'; this.previousElementSibling.style.display='block'"\n                             onload="this.previousElementSibling.style.display='none'"\n                             loading="lazy"\n                             crossorigin="anonymous">\n                    </div>\n                    \n                    <div class="timio-pivot-text">\n                        <h3 class="timio-pivot-title">${a}</h3>\n                        <div class="timio-pivot-meta">\n                            <span class="timio-pivot-date">\n                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                                    <circle cx="12" cy="12" r="10"></circle>\n                                    <path d="M12 6v6l4 2"></path>\n                                </svg>\n                                ${i}\n                            </span>\n                            <span class="timio-pivot-source">\n                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                                    <path d="M21 2H3v16h5v4l4-4h5l4-4V2z"></path>\n                                </svg>\n                                ${n}\n                            </span>\n                            ${s?`<span class="timio-pivot-author">\n                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>\n                                        <circle cx="12" cy="7" r="4"></circle>\n                                    </svg>\n                                    ${s}\n                                </span>`:""}\n                        </div>\n                    </div>\n                </a>\n            `})).join("")}\n            </div>\n        `}function l(e,t,r){return async()=>{console.log(`Button clicked - Action: ${e}, Title: ${t}, Animation: ${r}`);try{if(!n&&(console.log("No port found, creating new port..."),n=i(),!n))return console.error("Failed to create port"),void a();const s=document.getElementById("timio-modal");if(!s)return void console.error("Modal element not found");const l=s.querySelector(".timio-spinner"),c=s.querySelector(".timio-insights-content"),d=s.querySelector(".timio-pivot-content");s.querySelector(".timio-modal-title").textContent=t,s.classList.add("active");const m=`lottie-container-${Date.now()}`;l.innerHTML=`\n          <div class="timio-loading-column">\n            \x3c!-- Animation container --\x3e\n            <div id="${m}" class="timio-lottie-container"></div>\n            \n            \x3c!-- Progress bar --\x3e\n            <div class="timio-progress">\n              <div class="timio-progress-bar" style="width: 0%;"></div>\n            </div>\n            \n            \x3c!-- Status text --\x3e\n            <p class="timio-status-text">\n              ${"torch"===r?"Scanning article...":"Finding related articles..."}\n            </p>\n          </div>\n        `,l.style.display="flex",c.style.display="none",d.style.display="none";const h=document.getElementById(m);if(!h)return void console.error("Animation container not found");try{const e=chrome.runtime.getURL(`${r}.json`);lottie.loadAnimation({container:h,renderer:"svg",loop:!0,autoplay:!0,path:e,onComplete:()=>{console.log(`${r} animation loaded successfully`)},onError:e=>{console.error(`${r} animation error:`,e),h.innerHTML='\n                <div class="timio-spinner-fallback"></div>\n              '}})}catch(e){console.error("Animation setup failed:",e),h.innerHTML='\n            <div class="timio-spinner-fallback"></div>\n          '}const u=l.querySelector(".timio-progress-bar"),p=l.querySelector(".timio-status-text");!function(e,t,n){const i={torch:[{message:"Scanning article...",progress:15,duration:1500},{message:"Analyzing content structure...",progress:30,duration:2e3},{message:"Extracting key arguments...",progress:45,duration:2500},{message:"Evaluating evidence quality...",progress:60,duration:2e3},{message:"Finding supporting references...",progress:70,duration:1800},{message:"Identifying main claims...",progress:80,duration:1500},{message:"Generating comprehensive insights...",progress:90,duration:3e3},{message:"Finalizing analysis...",progress:95,duration:1500}],pivot:[{message:"Scanning current article...",progress:15,duration:1500},{message:"Identifying key topics...",progress:30,duration:2e3},{message:"Finding diverse viewpoints...",progress:45,duration:2200},{message:"Searching across publications...",progress:60,duration:2500},{message:"Filtering for relevance...",progress:70,duration:1800},{message:"Evaluating information quality...",progress:80,duration:2e3},{message:"Finding trusted sources...",progress:85,duration:1500},{message:"Preparing alternative perspectives...",progress:90,duration:2e3},{message:"Organizing recommendations...",progress:95,duration:1500}]}[e];let o=0;const r=document.getElementById("timio-modal").querySelector(".timio-spinner");let a=t.closest(".timio-loading-column");if(!a){console.log("Loading column not found, creating one"),a=document.createElement("div"),a.className="timio-loading-column",r.appendChild(a);const e=r.querySelector(".timio-lottie-container"),t=r.querySelector(".timio-progress"),n=r.querySelector(".timio-status-text");e&&a.appendChild(e),t&&a.appendChild(t),n&&a.appendChild(n)}let s=a.querySelector(".timio-stuck-container");s||(console.log("Creating stuck container"),s=document.createElement("div"),s.className="timio-stuck-container",s.style.display="none",s.innerHTML='\n        <p>Stuck loading?</p>\n        <button class="timio-refresh-button">Try refreshing</button>\n        <a href="https://timio.news/support" class="timio-troubleshooting-link" target="_blank">View our troubleshooting page</a>\n      ',a.appendChild(s),s.querySelector(".timio-refresh-button").addEventListener("click",(()=>{console.log("Refresh button clicked"),window.location.reload()})));console.log("Setting stuck timeout for 60 seconds");const l=setTimeout((()=>{console.log("Stuck timeout triggered"),n&&(n.textContent="Almost there..."),s?(s.style.display="block",console.log("Showing stuck container:",s)):console.log("Stuck container not found at timeout")}),6e4);t&&(t.stuckTimeout=l),function e(){if(!t||!n||o>=i.length)return;const r=i[o];t.style.width=`${r.progress}%`,n.textContent=r.message,o++,o<i.length?setTimeout(e,r.duration):setTimeout((()=>{let e=0;const i=["Almost there...","Finalizing results...","Just a moment longer...","Processing final data...","Preparing your results..."],o=setInterval((()=>{n?(n.textContent=i[e],e=(e+1)%i.length):clearInterval(o)}),3e3);t.waitInterval=o}),1e3)}()}(r,u,p);const g=function(){try{if(void 0!==o()){const e=document.cloneNode(!0),t=new(o())(e).parse();if(t&&t.textContent&&t.textContent.trim().length>0)return console.log("[TIMIO] Readability extracted article:",t.title,t.textContent.slice(0,200)),t.textContent}}catch(e){console.warn("[TIMIO] Readability extraction failed:",e)}return document.body.innerText||""}();console.log("[TIMIO] Extracted article text:",g.slice(0,200));let f={action:e,title:t};"getInsights"===e?f.content=g:"getPivotArticles"===e&&(f.url=window.location.href),console.log("[TIMIO] Sending message through port:",f),n.postMessage(f);const b=e=>{if(e.insights||e.articles||e.error){if(u&&(u.style.width="100%"),p&&(p.textContent="torch"===r?"Analysis complete!":"Related articles found!"),u&&u.stuckTimeout){clearTimeout(u.stuckTimeout);const e=l.querySelector(".timio-stuck-container");e&&(e.style.display="none")}u&&u.waitInterval&&clearInterval(u.waitInterval),n.onMessage.removeListener(b)}};n.onMessage.addListener(b)}catch(n){console.error("Button click handler failed:",{error:n,stack:n.stack,action:e,title:t,animationType:r}),a()}}}function c(e){let t=0,n=0,i=0,o=0,r=!1,a=!1,s=0;const l=e.querySelector(".timio-menu-button"),c=e.querySelector(".timio-drag-indicator");function d(t){t.target.classList.contains("timio-action-button")||t.target.closest(".timio-action-button")||t.target.closest(".timio-menu-items.active")||(t.preventDefault(),s=(new Date).getTime(),a=!1,i=t.clientX,o=t.clientY,r=!0,e.classList.add("dragging"),document.addEventListener("mouseup",g),document.addEventListener("mousemove",h))}function m(t){if(t.target.classList.contains("timio-action-button")||t.target.closest(".timio-action-button")||t.target.closest(".timio-menu-items.active"))return;t.preventDefault(),s=(new Date).getTime(),a=!1;const n=t.touches[0];i=n.clientX,o=n.clientY,r=!0,e.classList.add("dragging"),document.addEventListener("touchend",f),document.addEventListener("touchmove",u,{passive:!1})}function h(e){if(!r)return;e.preventDefault();const s=Math.abs(i-e.clientX),l=Math.abs(o-e.clientY);(s>5||l>5)&&(a=!0),t=i-e.clientX,n=o-e.clientY,i=e.clientX,o=e.clientY,p()}function u(e){if(!r)return;e.preventDefault();const s=e.touches[0],l=Math.abs(i-s.clientX),c=Math.abs(o-s.clientY);(l>5||c>5)&&(a=!0),t=i-s.clientX,n=o-s.clientY,i=s.clientX,o=s.clientY,p()}function p(){const i=e.offsetTop-n,o=e.offsetLeft-t;e.style.top=i+"px",e.style.left=o+"px",e.style.right="auto",e.style.bottom="auto",function(e){const t=e.getBoundingClientRect();t.left<0&&(e.style.left="0px");t.top<0&&(e.style.top="0px");t.right>window.innerWidth&&(e.style.left=window.innerWidth-t.width+"px");t.bottom>window.innerHeight&&(e.style.top=window.innerHeight-t.height+"px")}(e)}function g(t){const n=(new Date).getTime()-s;if(r=!1,e.classList.remove("dragging"),document.removeEventListener("mouseup",g),document.removeEventListener("mousemove",h),n<200&&!a){if(t.target.classList.contains("timio-menu-button")||t.target.closest(".timio-menu-button")){const e=document.getElementById("timio-toggle"),t=document.querySelector(".timio-menu-items");t.classList.contains("active");e.classList.toggle("active"),t.classList.toggle("active")}}else a&&b()}function f(t){const n=(new Date).getTime()-s;if(r=!1,e.classList.remove("dragging"),document.removeEventListener("touchend",f),document.removeEventListener("touchmove",u),n<200&&!a){if(t.target.classList.contains("timio-menu-button")||t.target.closest(".timio-menu-button")){const e=document.getElementById("timio-toggle"),t=document.querySelector(".timio-menu-items");t.classList.contains("active");e.classList.toggle("active"),t.classList.toggle("active")}}else a&&b()}function b(){try{const t={top:e.style.top,left:e.style.left,timestamp:Date.now()};localStorage.setItem("timio-menu-position",JSON.stringify(t)),console.log("Position saved:",t)}catch(e){console.warn("Could not save menu position",e)}}l&&l.addEventListener("mousedown",d),c&&c.addEventListener("mousedown",d),l&&l.addEventListener("touchstart",m,{passive:!1}),c&&c.addEventListener("touchstart",m,{passive:!1})}function d(){if(document.getElementById("timio-floating-menu"))return void r();console.log("Injecting floating menu");const e=document.createElement("div");e.id="timio-floating-menu",e.style.cssText="position: fixed !important; bottom: 24px !important; right: 24px !important; z-index: 2147483647 !important; visibility: visible !important; opacity: 1 !important; display: block !important;",e.innerHTML=`\n      <div class="timio-menu-container">\n        <div class="timio-drag-indicator"></div>\n        <div class="timio-menu-items">\n          <button class="timio-action-button" id="timio-insights">\n            <div class="button-image">\n              <img src="${chrome.runtime.getURL("Torch_Icon.png")}" alt="Torch">\n            </div>\n            <span class="timio-tooltip">Torch</span>\n          </button>\n          <button class="timio-action-button" id="timio-pivot">\n            <div class="button-image">\n              <img src="${chrome.runtime.getURL("Pivot_Icon.png")}" alt="Pivot">\n            </div>\n            <span class="timio-tooltip">Pivot</span>\n          </button>\n        </div>\n        <button class="timio-menu-button" id="timio-toggle">\n          <svg class="menu-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5">\n            <g class="plus-icon">\n              <line x1="12" y1="5" x2="12" y2="19"></line>\n              <line x1="5" y1="12" x2="19" y2="12"></line>\n            </g>\n            <g class="arrow-icon">\n              <path d="M6 9l6 6 6-6"></path>\n            </g>\n          </svg>\n        </button>\n      </div>\n    `;const t=document.createElement("div");t.id="timio-modal",t.className="timio-modal",t.innerHTML='\n      <div class="timio-modal-content">\n        <div class="timio-modal-header">\n          <h2 class="timio-modal-title">Torch\'s Insights</h2>\n          <button class="timio-modal-close">×</button>\n        </div>\n        <div class="timio-modal-body">\n          <div class="timio-spinner">\n            <div id="animation-container" class="timio-lottie-container"></div>\n            <p style="margin-top: 16px; color: #9ca3af;">Analyzing article...</p>\n          </div>\n          <div class="timio-insights-content" style="display: none;"></div>\n          <div class="timio-pivot-content" style="display: none;"></div>\n        </div>\n        <div class="timio-modal-footer">\n          <a href="https://timio.news/support" class="timio-support-link" target="_blank">\n            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="timio-support-icon">\n              <circle cx="12" cy="12" r="10"></circle>\n              <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>\n              <line x1="12" y1="17" x2="12.01" y2="17"></line>\n            </svg>\n            Need help? Visit our support page\n          </a>\n        </div>\n      </div>\n    ';const o=document.createElement("style");o.textContent='\n        #timio-floating-menu {\n    position: fixed;\n    bottom: 24px;\n    right: 24px;\n    z-index: 2147483647;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n    user-select: none; /* Prevent text selection during drag */\n    touch-action: none; /* Better touch handling */\n    visibility: visible !important; /* Ensure menu is always visible */\n    opacity: 1 !important; /* Ensure menu is always visible */\n    transform: none !important; /* Prevent transform issues */\n  }\n  \n     #timio-floating-menu.dragging {\n    opacity: 0.8 !important;\n    transition: opacity 0.2s ease;\n    cursor: grabbing;\n  }\n      .timio-menu-container {\n        position: relative;\n      }\n  \n      .timio-menu-items {\n        position: absolute;\n        bottom: 80px;\n        right: 8px;\n        display: flex;\n        flex-direction: column;\n        gap: 16px;\n        opacity: 0;\n        visibility: hidden;\n        transform: translateY(20px);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n  \n      .timio-menu-items.active {\n        opacity: 1;\n        visibility: visible;\n        transform: translateY(0);\n      }\n  \n      .timio-menu-button {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    background: #3b82f6;\n    border: none;\n    cursor: grab; /* Change to grab cursor to indicate draggable */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    padding: 0;\n    position: relative;\n    visibility: visible !important; /* Ensure button is always visible */\n  }\n  \n      .timio-menu-button svg {\n        width: 24px;\n        height: 24px;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n  \n      .timio-menu-button .plus-icon {\n        opacity: 1;\n        transition: opacity 0.3s ease;\n      }\n  \n      .timio-menu-button .arrow-icon {\n        opacity: 0;\n        position: absolute;\n        transition: opacity 0.3s ease;\n      }\n  \n      .timio-menu-button.active .plus-icon {\n        opacity: 0;\n      }\n  \n      .timio-menu-button.active .arrow-icon {\n        opacity: 1;\n      }\n  \n      .timio-menu-button:hover {\n        transform: scale(1.05);\n        background: #2563eb;\n        box-shadow: 0 6px 16px rgba(59, 130, 246, 0.6);\n      }\n  \n      /* Hide the drag indicator completely */\n      .timio-drag-indicator {\n        display: none !important;\n      }\n  \n      .timio-action-button {\n        width: 48px;\n        height: 48px;\n        padding: 0;          /* Explicitly remove padding */\n        margin: 0;          /* Explicitly remove margin */\n        border: none;\n        cursor: pointer;\n        position: relative;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        background: none;\n        display: flex;       /* Changed to flex */\n        align-items: center; /* Center vertically */\n        justify-content: center; /* Center horizontally */\n        outline: none;\n      }\n       \n      .timio-loading-spinner {\n        display: inline-block;\n        width: 50px;\n        height: 50px;\n        border: 3px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        border-top-color: #3b82f6;\n        animation: spin 1s ease-in-out infinite;\n      }\n  \n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n  \n      .button-image {\n        width: 100%;\n        height: 100%;\n        border-radius: 50%;\n        overflow: hidden;\n        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        display: flex;       /* Added flex display */\n        align-items: center;\n        justify-content: center;\n      }\n  \n      .timio-action-button img {\n        width: 100%;\n        height: 100%;\n        display: block;\n        object-fit: contain;\n        padding: 0;\n        margin: 0;\n      }\n  \n      .timio-action-button:hover {\n        transform: scale(1.1);\n      }\n  \n      .timio-action-button:hover .button-image {\n        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);\n      }\n  \n      .timio-tooltip {\n        position: absolute;\n        right: 64px;\n        top: 50%;\n        transform: translateY(-50%);\n        background: #1f2937;\n        color: white;\n        padding: 8px 12px;\n        border-radius: 6px;\n        font-size: 13px;\n        font-weight: 500;\n        white-space: nowrap;\n        opacity: 0;\n        visibility: hidden;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        pointer-events: none;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n      }\n  \n      .timio-tooltip::after {\n        content: \'\';\n        position: absolute;\n        right: -6px;\n        top: 50%;\n        transform: translateY(-50%);\n        border-width: 6px;\n        border-style: solid;\n        border-color: transparent transparent transparent #1f2937;\n      }\n  \n      .timio-action-button:hover .timio-tooltip {\n        opacity: 1;\n        visibility: visible;\n        right: 60px;\n      }\n  \n      .timio-modal {\n        display: none;\n        position: fixed;\n        top: 0;\n        right: 0;\n        height: 100vh;\n        width: 400px;\n        background: #1a1a1a;\n        box-shadow: -4px 0 24px rgba(0, 0, 0, 0.3);\n        z-index: 2147483646;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;\n        transform: translateX(100%);\n        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        border-left: 1px solid rgba(255, 255, 255, 0.1);\n      }\n  \n      .timio-modal.active {\n        display: block;\n        transform: translateX(0);\n      }\n  \n      .timio-modal-content {\n        background: #1a1a1a;\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n      }\n  \n      .timio-modal-header {\n        padding: 20px;\n        background: #1a1a1a;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n        position: relative;\n      }\n  \n      .timio-modal-title {\n        font-size: 18px;\n        font-weight: 600;\n        color: white;\n        margin: 0;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n  \n      .timio-modal-close {\n        position: absolute;\n        top: 50%;\n        right: 20px;\n        transform: translateY(-50%);\n        background: transparent;\n        border: none;\n        color: #9ca3af;\n        cursor: pointer;\n        padding: 8px;\n        font-size: 24px;\n        border-radius: 6px;\n        transition: all 0.2s ease;\n      }\n  \n      .timio-modal-close:hover {\n        color: white;\n        background: rgba(255, 255, 255, 0.1);\n      }\n  \n      .timio-modal-body {\n        flex: 1;\n        overflow-y: auto;\n        padding: 20px;\n        background: #1a1a1a;\n        color: white;\n      }\n  \n      /* Updated spinner styles for centered layout */\n      .timio-spinner {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        min-height: 200px;\n        padding: 40px 20px;\n        width: 100%;\n        background: #1a1a1a;\n      }\n  \n      /* Loading column layout styles */\n      .timio-loading-column {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 100%;\n      }\n  \n      /* Animation container */\n      .timio-lottie-container {\n        width: 300px;\n        height: 300px;\n        margin: 0 auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n  \n      /* Updated progress bar styles */\n      .timio-progress {\n        width: 80%;\n        height: 4px;\n        background: #2d2d2d;\n        border-radius: 2px;\n        margin-top: 24px;\n        overflow: hidden;\n      }\n  \n      .timio-progress-bar {\n        height: 100%;\n        background: #3b82f6;\n        width: 0%;\n        transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n  \n      /* Updated status text styles */\n      .timio-status-text {\n        margin-top: 12px;\n        color: #9ca3af;\n        text-align: center;\n        font-size: 14px;\n        transition: opacity 0.3s ease;\n        width: 80%;\n      }\n  \n      /* Spinner fallback */\n      .timio-spinner-fallback {\n        width: 48px;\n        height: 48px;\n        border: 3px solid #3b82f6;\n        border-radius: 50%;\n        border-top-color: transparent;\n        animation: spinner-rotate 1s linear infinite;\n        margin: 0 auto;\n      }\n  \n      @keyframes spinner-rotate {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n  \n      @keyframes pulse {\n        0% { opacity: 0.8; }\n        50% { opacity: 1; }\n        100% { opacity: 0.8; }\n      }\n  \n      .timio-error-message {\n        text-align: center;\n        padding: 24px;\n        color: #ef4444;\n      }\n  \n      .timio-error-icon {\n        width: 48px;\n        height: 48px;\n        stroke: currentColor;\n        margin-bottom: 16px;\n      }\n  \n      .timio-error-title {\n        font-size: 18px;\n        font-weight: 600;\n        margin: 0 0 8px 0;\n      }\n  \n      .timio-error-text {\n        font-size: 14px;\n        color: #9ca3af;\n        margin: 0 0 20px 0;\n      }\n  \n      .timio-refresh-button {\n        background: #3b82f6;\n        color: white;\n        border: none;\n        padding: 10px 20px;\n        border-radius: 8px;\n        font-size: 14px;\n        font-weight: 500;\n        cursor: pointer;\n        display: inline-flex;\n        align-items: center;\n        gap: 8px;\n        transition: all 0.2s ease;\n      }\n  \n      .timio-refresh-button:hover {\n        background: #2563eb;\n        transform: translateY(-1px);\n      }\n  \n      .timio-refresh-button svg {\n        width: 16px;\n        height: 16px;\n        stroke: currentColor;\n      }\n  \n      /* Insights styles */\n      .timio-insight-section {\n        background: #2d2d2d;\n        border-radius: 12px;\n        padding: 20px;\n        margin-bottom: 20px;\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        transition: transform 0.2s ease;\n      }\n  \n      .timio-insight-section:hover {\n        transform: translateY(-2px);\n        border-color: rgba(59, 130, 246, 0.5);\n      }\n  \n      .timio-insight-title {\n        color: #3b82f6;\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0 0 16px 0;\n        letter-spacing: -0.01em;\n      }\n  \n      .timio-insight-list {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n      }\n  \n      .timio-insight-item {\n        color: #e5e5e5;\n        font-size: 14px;\n        line-height: 1.6;\n        padding-left: 20px;\n        position: relative;\n      }\n  \n      .timio-insight-item:before {\n        content: "";\n        position: absolute;\n        left: 0;\n        top: 8px;\n        width: 6px;\n        height: 6px;\n        background: #3b82f6;\n        border-radius: 50%;\n      }\n  \n      /* Pivot styles */\n      .timio-pivot-container {\n        padding: 16px;\n        display: flex;\n        flex-direction: column;\n        gap: 16px;\n      }\n  \n      .timio-pivot-article {\n        background: #2d2d2d;\n        border-radius: 12px;\n        padding: 20px;\n        cursor: pointer;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        text-decoration: none;\n        display: block;\n      }\n  \n      .timio-pivot-article:hover {\n        transform: translateX(4px);\n        background: #363636;\n        border-color: rgba(59, 130, 246, 0.5);\n      }\n  \n      .timio-pivot-image {\n        width: 100%;\n        height: 200px;\n        border-radius: 8px;\n        overflow: hidden;\n        margin-bottom: 16px;\n        background: #1a1a1a;\n        position: relative;\n      }\n  \n      .timio-pivot-image img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        transition: transform 0.3s ease;\n      }\n  \n      .timio-pivot-article:hover .timio-pivot-image img {\n        transform: scale(1.05);\n      }\n  \n      .timio-pivot-title {\n        color: #3b82f6;\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0 0 12px 0;\n        line-height: 1.4;\n        letter-spacing: -0.01em;\n      }\n  \n      .timio-pivot-meta {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n        color: #9ca3af;\n        font-size: 13px;\n      }\n  \n      .timio-pivot-source,\n      .timio-pivot-date,\n      .timio-pivot-author {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n  \n      .timio-pivot-meta svg {\n        width: 14px;\n        height: 14px;\n        stroke-width: 2;\n      }\n  \n      .timio-image-placeholder {\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(135deg, #2d2d2d 25%, #363636 50%, #2d2d2d 75%);\n        background-size: 200% 200%;\n        animation: shimmer 2s infinite;\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n  \n      @keyframes shimmer {\n        0% {\n          background-position: 200% 200%;\n        }\n        100% {\n          background-position: -200% -200%;\n        }\n      }\n  \n      .timio-copy-button {\n        background: #2d2d2d;\n        color: #e5e5e5;\n        border: 1px solid rgba(59, 130, 246, 0.5);\n        border-radius: 8px;\n        padding: 12px 24px;\n        width: auto;\n        max-width: 180px;\n        margin: 24px auto 0;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        font-size: 14px;\n        font-weight: 500;\n        transition: all 0.2s ease;\n      }\n  \n      .timio-copy-button:hover {\n        background: #363636;\n        border-color: #3b82f6;\n        transform: translateY(-1px);\n      }\n  \n      .timio-copy-button.copied {\n        background: #065f46;\n        border-color: #059669;\n        color: white;\n      }\n  \n      .timio-copy-button svg {\n        width: 16px;\n        height: 16px;\n        stroke-width: 2;\n      }\n  \n      /* Scrollbar styles */\n      .timio-modal-body::-webkit-scrollbar {\n        width: 8px;\n        background-color: #1a1a1a;\n      }\n  \n      .timio-modal-body::-webkit-scrollbar-thumb {\n        background-color: #4b5563;\n        border-radius: 4px;\n      }\n  \n      .timio-modal-body::-webkit-scrollbar-thumb:hover {\n        background-color: #6b7280;\n      }\n  \n      /* Mobile responsiveness */\n      @media (max-width: 768px) {\n        .timio-modal {\n          width: 100%;\n          max-width: 100%;\n        }\n  \n        .timio-pivot-meta {\n          flex-wrap: wrap;\n        }\n      }\n       .timio-stuck-container {\n      margin-top: 20px;\n      text-align: center;\n      width: 100%;\n    }\n\n    .timio-stuck-container p {\n      color: #9ca3af;\n      margin-bottom: 12px;\n      font-size: 14px;\n    }\n\n    .timio-refresh-button {\n      background: #3b82f6;\n      color: white;\n      border: none;\n      padding: 10px 20px;\n      border-radius: 8px;\n      font-size: 14px;\n      font-weight: 500;\n      cursor: pointer;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      margin-bottom: 12px;\n      transition: all 0.2s ease;\n    }\n\n    .timio-refresh-button:hover {\n      background: #2563eb;\n      transform: translateY(-1px);\n    }\n\n    .timio-troubleshooting-link {\n      display: block;\n      color: #3b82f6;\n      font-size: 13px;\n      text-decoration: underline;\n      margin-top: 8px;\n    }\n\n    .timio-troubleshooting-link:hover {\n      color: #2563eb;\n    }\n\n            .timio-modal-footer {\n        padding: 16px 20px;\n        background: #1a1a1a;\n        border-top: 1px solid rgba(255, 255, 255, 0.1);\n        text-align: center;\n        position: sticky;\n        bottom: 0;\n      }\n\n      .timio-support-link {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        color: #9ca3af;\n        text-decoration: none;\n        font-size: 14px;\n        transition: color 0.2s ease;\n      }\n\n      .timio-support-link:hover {\n        color: #3b82f6;\n      }\n\n      .timio-support-icon {\n        width: 16px;\n        height: 16px;\n      }\n\n      /* Add this to the existing @media query for mobile */\n      @media (max-width: 768px) {\n        .timio-modal-footer {\n          padding: 12px 16px;\n        }\n        \n        .timio-support-link {\n          font-size: 13px;\n        }\n      }\n    ',document.head.appendChild(o),document.body.appendChild(e),document.body.appendChild(t),document.head.appendChild(o),c(e),function(e){try{const t=localStorage.getItem("timio-menu-position");if(t){const n=JSON.parse(t);console.log("Restoring position:",n),n.top&&n.left?(e.style.top=n.top,e.style.left=n.left,e.style.right="auto",e.style.bottom="auto",setTimeout((()=>{const t=e.getBoundingClientRect();(t.right<=0||t.bottom<=0||t.left>=window.innerWidth||t.top>=window.innerHeight)&&(console.log("Menu was positioned off-screen, resetting position"),e.style.top="auto",e.style.left="auto",e.style.right="24px",e.style.bottom="24px")}),100)):(e.style.top="auto",e.style.left="auto",e.style.right="24px",e.style.bottom="24px")}}catch(t){console.warn("Could not restore menu position",t),e.style.top="auto",e.style.left="auto",e.style.right="24px",e.style.bottom="24px"}}(e),n=i();const a=document.getElementById("timio-toggle"),d=document.querySelector(".timio-menu-items"),m=document.getElementById("timio-insights"),h=document.getElementById("timio-pivot");let u=!1;document.addEventListener("click",(t=>{!e.contains(t.target)&&u&&(u=!1,a.classList.remove("active"),d.classList.remove("active"))})),m.addEventListener("click",l("getInsights","Torch's Insights","torch")),h.addEventListener("click",l("getPivotArticles","Alternate Views","pivot"));t.querySelector(".timio-modal-close").addEventListener("click",(()=>{t.classList.remove("active"),window.cleanupAnimations&&window.cleanupAnimations()})),t.addEventListener("click",(e=>{e.target===t&&t.classList.remove("active")})),n&&n.onMessage.addListener((e=>{if(console.log("Received response:",e),!t)return;const n=t.querySelector(".timio-spinner"),i=t.querySelector(".timio-insights-content"),o=t.querySelector(".timio-pivot-content");if(window.cleanupAnimations&&window.cleanupAnimations(),n.style.display="none",e.insights)o.style.display="none",i.style.display="block",i.innerHTML=function(e){if(!e)return"<p>No insights available</p>";let t=e;return"object"==typeof e&&e.article_insight&&(t=e.article_insight),t=t.replace(/\\n/g,"\n").replace(/\\"/g,'"').replace(/\\/g,""),`\n            <div style="padding: 16px;">\n                ${t.split("\n\n").filter((e=>e.trim())).map((e=>{const[t,...n]=e.split("\n");return`\n                        <div class="timio-insight-section">\n                            <h3 class="timio-insight-title">${t.replace(/\*\*/g,"")}</h3>\n                            <ul class="timio-insight-list">\n                                ${n.map((e=>`\n                                    <li class="timio-insight-item">\n                                        ${e.replace(/^[•\-]\s*/,"").trim()}\n                                    </li>\n                                `)).join("")}\n                            </ul>\n                        </div>\n                    `})).join("")}\n            </div>\n            <div style="text-align: center;">\n                <button class="timio-copy-button">\n                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                        <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />\n                    </svg>\n                    Copy Analysis\n                </button>\n            </div>\n        `}(e.insights),setTimeout((()=>{!function(){const e=document.querySelector(".timio-copy-button");e&&e.addEventListener("click",(async()=>{const t=document.querySelector(".timio-insights-content").textContent.trim();try{await navigator.clipboard.writeText(t),e.classList.add("copied"),e.innerHTML='\n                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />\n                    </svg>\n                    Copied!\n                ',setTimeout((()=>{e.classList.remove("copied"),e.innerHTML='\n                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />\n                        </svg>\n                        Copy Analysis\n                    '}),2e3)}catch(e){console.error("Failed to copy text:",e)}}))}()}),100);else if(e.articles){const t=e.articles;console.log("Extracted articles array:",t),i.style.display="none",o.style.display="block",t&&0!==t.length?o.innerHTML=s(t):o.innerHTML='\n            <div class="timio-error-message">\n              <svg class="timio-error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>\n              </svg>\n              <p class="timio-error-title">No Results Found</p>\n              <p class="timio-error-text">Unable to find related articles. Please try a different article.</p>\n            </div>\n          '}else if(e.error){const t="block"===o.style.display?o:i;(t===i?o:i).style.display="none",t.style.display="block",t.innerHTML=`\n          <div class="timio-error-message">\n            <svg class="timio-error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">\n              <circle cx="12" cy="12" r="10"></circle>\n              <line x1="12" y1="8" x2="12" y2="12"></line>\n              <line x1="12" y1="16" x2="12.01" y2="16"></line>\n            </svg>\n            <p class="timio-error-title">Error</p>\n            <p class="timio-error-text">${e.error}</p>\n            <button class="timio-refresh-button" onclick="window.location.reload()">\n              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">\n                <path d="M21 12a9 9 0 11-9-9c2.52 0 4.85.99 6.57 2.57L21 8"></path>\n                <path d="M21 3v5h-5"></path>\n              </svg>\n              Refresh Page\n            </button>\n          </div>\n        `}}));new MutationObserver((()=>{r()})).observe(document.body,{attributes:!0,subtree:!0,childList:!0}),console.log("Floating menu injection complete")}let m=0;function h(){m++,e()?document.body&&!document.getElementById("timio-floating-menu")&&(console.log(`Attempt ${m+1} to inject floating menu`),d(),1)?console.log("Menu injected successfully"):m<5?(console.log(`Menu injection attempt ${m} failed, trying again...`),setTimeout(h,300*m)):console.log("Maximum injection attempts reached"):console.log("TIMIO will not be injected on this site")}if(document.body)e()&&h();else{const t=new MutationObserver((()=>{document.body&&(t.disconnect(),e()&&h())}));t.observe(document.documentElement,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",(()=>{!document.getElementById("timio-floating-menu")&&e()&&h()}))}function t(){const t=document.getElementById("timio-floating-menu"),n=document.getElementById("timio-modal");document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(t&&(t.style.display="none"),n&&n.classList.remove("active")):e()&&t&&(t.style.display="block")}if(window.addEventListener("load",(()=>{!document.getElementById("timio-floating-menu")&&e()&&h()})),document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),document.body)h();else{const e=new MutationObserver((()=>{document.body&&(e.disconnect(),h())}));e.observe(document.documentElement,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("timio-floating-menu")||h()}))}window.addEventListener("load",(()=>{document.getElementById("timio-floating-menu")||h()}))})()}},i={};function o(e){var t=i[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var r=i[e]={exports:{}};try{var a={id:e,module:r,factory:n[e],require:o};o.i.forEach((function(e){e(a)})),r=a.module,a.factory.call(r.exports,r,r.exports,a.require)}catch(e){throw r.error=e,e}return r.exports}o.m=n,o.c=i,o.i=[],o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.hu=e=>e+"."+o.h()+".hot-update.js",o.hmrF=()=>"content."+o.h()+".hot-update.json",o.h=()=>"a69d200a2aa2bcc3bb52",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="chrome-extension-boilerplate-react:",o.l=(n,i,r,a)=>{if(e[n])e[n].push(i);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var m=c[d];if(m.getAttribute("src")==n||m.getAttribute("data-webpack")==t+r){s=m;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[i];var h=(t,i)=>{s.onerror=s.onload=null,clearTimeout(u);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(i))),t)return t(i)},u=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},(()=>{var e,t,n,i={},r=o.c,a=[],s=[],l="idle",c=0,d=[];function m(e){l=e;for(var t=[],n=0;n<s.length;n++)t[n]=s[n].call(null,e);return Promise.all(t).then((function(){}))}function h(){0==--c&&m("ready").then((function(){if(0===c){var e=d;d=[];for(var t=0;t<e.length;t++)e[t]()}}))}function u(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return m("check").then(o.hmrM).then((function(n){return n?m("prepare").then((function(){var i=[];return t=[],Promise.all(Object.keys(o.hmrC).reduce((function(e,r){return o.hmrC[r](n.c,n.r,n.m,e,t,i),e}),[])).then((function(){return t=function(){return e?g(e):m("ready").then((function(){return i}))},0===c?t():new Promise((function(e){d.push((function(){e(t())}))}));var t}))})):m(f()?"ready":"idle").then((function(){return null}))}))}function p(e){return"ready"!==l?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+l+")")})):g(e)}function g(e){e=e||{},f();var i=t.map((function(t){return t(e)}));t=void 0;var o=i.map((function(e){return e.error})).filter(Boolean);if(o.length>0)return m("abort").then((function(){throw o[0]}));var r=m("dispose");i.forEach((function(e){e.dispose&&e.dispose()}));var a,s=m("apply"),l=function(e){a||(a=e)},c=[];return i.forEach((function(e){if(e.apply){var t=e.apply(l);if(t)for(var n=0;n<t.length;n++)c.push(t[n])}})),Promise.all([r,s]).then((function(){return a?m("fail").then((function(){throw a})):n?g(e).then((function(e){return c.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):m("idle").then((function(){return c}))}))}function f(){if(n)return t||(t=[]),Object.keys(o.hmrI).forEach((function(e){n.forEach((function(n){o.hmrI[e](n,t)}))})),n=void 0,!0}o.hmrD=i,o.i.push((function(d){var g,f,b,v,y=d.module,_=function(t,n){var i=r[n];if(!i)return t;var o=function(o){if(i.hot.active){if(r[o]){var s=r[o].parents;-1===s.indexOf(n)&&s.push(n)}else a=[n],e=o;-1===i.children.indexOf(o)&&i.children.push(o)}else console.warn("[HMR] unexpected require("+o+") from disposed module "+n),a=[];return t(o)},s=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(n){t[e]=n}}};for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&"e"!==d&&Object.defineProperty(o,d,s(d));return o.e=function(e,n){return function(e){switch(l){case"ready":m("prepare");case"prepare":return c++,e.then(h,h),e;default:return e}}(t.e(e,n))},o}(d.require,d.id);y.hot=(g=d.id,f=y,v={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:b=e!==g,_requireSelf:function(){a=f.parents.slice(),e=b?void 0:g,o(g)},active:!0,accept:function(e,t,n){if(void 0===e)v._selfAccepted=!0;else if("function"==typeof e)v._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var i=0;i<e.length;i++)v._acceptedDependencies[e[i]]=t||function(){},v._acceptedErrorHandlers[e[i]]=n;else v._acceptedDependencies[e]=t||function(){},v._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)v._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)v._declinedDependencies[e[t]]=!0;else v._declinedDependencies[e]=!0},dispose:function(e){v._disposeHandlers.push(e)},addDisposeHandler:function(e){v._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=v._disposeHandlers.indexOf(e);t>=0&&v._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":t=[],Object.keys(o.hmrI).forEach((function(e){o.hmrI[e](g,t)})),m("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(e){o.hmrI[e](g,t)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(g)}},check:u,apply:p,status:function(e){if(!e)return l;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:i[g]},e=void 0,v),y.parents=a,y.children=[],a=[],d.require=_})),o.hmrC={},o.hmrI={}})(),o.p="/",(()=>{var e,t,n,i,r,a=o.hmrS_jsonp=o.hmrS_jsonp||{854:0},s={};function l(t,n){return e=n,new Promise(((e,n)=>{s[t]=e;var i=o.p+o.hu(t),r=new Error;o.l(i,(e=>{if(s[t]){s[t]=void 0;var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;r.message="Loading hot update chunk "+t+" failed.\n("+i+": "+o+")",r.name="ChunkLoadError",r.type=i,r.request=o,n(r)}}))}))}function c(e){function s(e){for(var t=[e],n={},i=t.map((function(e){return{chain:[e],id:e}}));i.length>0;){var r=i.pop(),a=r.id,s=r.chain,c=o.c[a];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var d=0;d<c.parents.length;d++){var m=c.parents[d],h=o.c[m];if(h){if(h.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([m]),moduleId:a,parentId:m};-1===t.indexOf(m)&&(h.hot._acceptedDependencies[a]?(n[m]||(n[m]=[]),l(n[m],[a])):(delete n[m],t.push(m),i.push({chain:s.concat([m]),id:m})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&e.push(i)}}o.f&&delete o.f.jsonpHmr,t=void 0;var c={},d=[],m={},h=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var u in n)if(o.o(n,u)){var p,g=n[u],f=!1,b=!1,v=!1,y="";switch((p=g?s(u):{type:"disposed",moduleId:u}).chain&&(y="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":e.onDeclined&&e.onDeclined(p),e.ignoreDeclined||(f=new Error("Aborted because of self decline: "+p.moduleId+y));break;case"declined":e.onDeclined&&e.onDeclined(p),e.ignoreDeclined||(f=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+y));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(p),e.ignoreUnaccepted||(f=new Error("Aborted because "+u+" is not accepted"+y));break;case"accepted":e.onAccepted&&e.onAccepted(p),b=!0;break;case"disposed":e.onDisposed&&e.onDisposed(p),v=!0;break;default:throw new Error("Unexception type "+p.type)}if(f)return{error:f};if(b)for(u in m[u]=g,l(d,p.outdatedModules),p.outdatedDependencies)o.o(p.outdatedDependencies,u)&&(c[u]||(c[u]=[]),l(c[u],p.outdatedDependencies[u]));v&&(l(d,[p.moduleId]),m[u]=h)}n=void 0;for(var _,x=[],E=0;E<d.length;E++){var N=d[E],T=o.c[N];T&&(T.hot._selfAccepted||T.hot._main)&&m[N]!==h&&!T.hot._selfInvalidated&&x.push({module:N,require:T.hot._requireSelf,errorHandler:T.hot._selfAccepted})}return{dispose:function(){var e;i.forEach((function(e){delete a[e]})),i=void 0;for(var t,n=d.slice();n.length>0;){var r=n.pop(),s=o.c[r];if(s){var l={},m=s.hot._disposeHandlers;for(E=0;E<m.length;E++)m[E].call(null,l);for(o.hmrD[r]=l,s.hot.active=!1,delete o.c[r],delete c[r],E=0;E<s.children.length;E++){var h=o.c[s.children[E]];h&&((e=h.parents.indexOf(r))>=0&&h.parents.splice(e,1))}}}for(var u in c)if(o.o(c,u)&&(s=o.c[u]))for(_=c[u],E=0;E<_.length;E++)t=_[E],(e=s.children.indexOf(t))>=0&&s.children.splice(e,1)},apply:function(t){for(var n in m)o.o(m,n)&&(o.m[n]=m[n]);for(var i=0;i<r.length;i++)r[i](o);for(var a in c)if(o.o(c,a)){var s=o.c[a];if(s){_=c[a];for(var l=[],h=[],u=[],p=0;p<_.length;p++){var g=_[p],f=s.hot._acceptedDependencies[g],b=s.hot._acceptedErrorHandlers[g];if(f){if(-1!==l.indexOf(f))continue;l.push(f),h.push(b),u.push(g)}}for(var v=0;v<l.length;v++)try{l[v].call(null,_)}catch(n){if("function"==typeof h[v])try{h[v](n,{moduleId:a,dependencyId:u[v]})}catch(i){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:a,dependencyId:u[v],error:i,originalError:n}),e.ignoreErrored||(t(i),t(n))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:a,dependencyId:u[v],error:n}),e.ignoreErrored||t(n)}}}for(var y=0;y<x.length;y++){var E=x[y],N=E.module;try{E.require(N)}catch(n){if("function"==typeof E.errorHandler)try{E.errorHandler(n,{moduleId:N,module:o.c[N]})}catch(i){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:N,error:i,originalError:n}),e.ignoreErrored||(t(i),t(n))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:N,error:n}),e.ignoreErrored||t(n)}}return d}}}self.webpackHotUpdatechrome_extension_boilerplate_react=(t,i,a)=>{for(var l in i)o.o(i,l)&&(n[l]=i[l],e&&e.push(l));a&&r.push(a),s[t]&&(s[t](),s[t]=void 0)},o.hmrI.jsonp=function(e,t){n||(n={},r=[],i=[],t.push(c)),o.o(n,e)||(n[e]=o.m[e])},o.hmrC.jsonp=function(e,s,d,m,h,u){h.push(c),t={},i=s,n=d.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],e.forEach((function(e){o.o(a,e)&&void 0!==a[e]?(m.push(l(e,u)),t[e]=!0):t[e]=!1})),o.f&&(o.f.jsonpHmr=function(e,n){t&&o.o(t,e)&&!t[e]&&(n.push(l(e)),t[e]=!0)})},o.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})();o(802)})();